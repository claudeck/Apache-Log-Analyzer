extends layout

block scripts
  script(src='/socket.io/socket.io.js')
  script
    $(document).ready(function(){
        $('#uploadLogFileForm').submit(function(){
            var socket = io.connect('http://localhost:3333');
            socket.emit('start upload log file');
            socket.on('upload progress', function(data){
                $('#progress').text(data.radio + '%');
            });
        });
    });

block content
  div.container
    div.content
      div.page-header
        h1 Upload Apache Log file
        - if(message != null && message != ''){
            div.row
              div.alert-message.success
                p
                  strong= message
        - }
        div.row
          div.span16
            form(id='uploadLogFileForm', name='uploadLogFileForm', method='post', action='/upload', enctype='multipart/form-data', target='iframeUpload')
              fieldset
                div.clearfix
                  label(for='logFile') Select Apache Log File
                  div.input
                    input#logFile.input-file(name='logFile', type='file')
                div.actions
                  input.btn.primary(type='submit', value='Upload')
          iframe(name='iframeUpload',style='display:none')
        div.row
          div#progress.span16
            0%